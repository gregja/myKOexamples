<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Knockout.js - Test xx</title>
    </head>
    <body>
        <div>
            <!-- cette div contiendra le code HTML relatif à chaque test -->
            <h2>Avant validation</h2>
            <div id="form-item" 
                data-bind="template: { name: 'form-tmpl' }">
            </div>
            <div id="list-item" 
                data-bind="template: { name: 'list-tmpl' }">
            </div>

        </div>
        <script id="form-tmpl" type="text/html">
            <form data-bind="submit: capitalizeNames">
                <p><label>Prénom : <input data-bind="value: firstName" /></label></p>
                <p><label>Nom: <input data-bind="value: lastName" /></label></p>
                <p>Nom complet: <strong data-bind="text: fullName" ></strong></p>

                <button type="submit">Valider</button>
            </form>            
        </script>        
        <script id="list-tmpl" type="text/html">
            <table data-bind="if: names().length > 0" >
                <thead><tr>
                    <th>Id</th><th>Nom et prénom</th><th>Action</th>
                </tr></thead>
                <tbody data-bind="foreach: names">
                    <tr>
                        <td data-bind="text: ($index() + 1)"></td>
                        <td data-bind="text: $data.nom+' '+$data.prenom"></td>
                        <td><a href="#" data-bind="click: $root.removeName">Supprimer</a></td>
                    </tr>
                </tbody>
            </table>  
    <!-- ko if : names().length > 0 -->
            <p>Nombre d'inscrits : <span data-bind="text: names().length"</span></p>
    <!-- /ko -->
        </script>        
        
        <!-- Placer le chargement de KO vers la fin du "body" -->
        <script src="../knockout-min.js"></script>
        <!-- Placer le code JS spécifique dans le fichier ci-dessous -->
        <script src="app.js"></script>
    </body>
</html>
